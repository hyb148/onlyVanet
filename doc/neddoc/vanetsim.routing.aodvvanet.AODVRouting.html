<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <link rel="stylesheet" type="text/css" href="style.css" />
   </head>
   <body onload="if (top.frames['componentsframe'] == undefined) { s = window.location.toString(); window.location = 'index.html?p=' + s.substring(s.lastIndexOf('/')+1); }">
<h2 class="comptitle">Simple Module <i>AODVRouting</i></h2>
<b>Package:</b> vanetsim.routing.aodvvanet<br/><b>File: <a href="src-routing-aodvvanet-AODVRouting.ned.html">src/routing/aodvvanet/AODVRouting.ned</a></b><br/><p><a href="../doxy/classAODVRouting.html" target="mainframe"><b>C++ definition</b></a></p>

<p>Ad hoc On-Demand Distance Vector Routing Protocol module.</p>
<p>The Ad hoc On-Demand Distance Vector (AODV) routing protocol is
intended for use by mobile nodes in an ad hoc network. It offers
quick adaptation to dynamic link conditions, low processing and
memory overhead, low network utilization, and determines unicast
routes to destinations within the ad hoc network.</p>
<p>This routing protocol communicates over UDP and used in ~AODVRouter
nodes as a routing submodule. ~AODVRouter is just a ~WirelessHost
extended with ~<a href="vanetsim.routing.aodvvanet.AODVRouting.html">AODVRouting</a> submodule.</p>
<p>This implementation is based on RFC 3561. For more information, you may
refer to the following link: https://tools.ietf.org/html/rfc3561.html.</p>
<img src="vanetsim.routing.aodvvanet.AODVRouting-type.png" ismap="yes" usemap="#type-diagram"/><map name="type-diagram">
<area shape="rect" href="vanetsim.routing.aodvvanet.AODVRouting.html" title="AODVRouting" alt="AODVRouting" coords="0,30,125,70">
</map>
<h3 class="subtitle">Usage diagram:</h3>
<p>The following diagram shows usage relationships between types.
Unresolved types are missing from the diagram. Click <a href="full-ned-usage-diagram.html">here</a> to see the full picture.</p>
<img src="vanetsim.routing.aodvvanet.AODVRouting-usage.png" ismap="yes" usemap="#usage-diagram"/><map name="usage-diagram"><area shape="rect" id="node1" href="vanetsim.routing.aodvvanet.AODVRouting.html" title="Simple Module AODVRouting" alt="" coords="15,81,120,106">
<area shape="rect" id="node2" href="vanetsim.simulations._nodes.AODVVANETCar.html" title="Compound Module AODVVANETCar" alt="" coords="5,6,131,31">
</map>
<h3 class="subtitle">Inheritance diagram:</h3>
<p>The following diagram shows inheritance relationships for this type.
Unresolved types are missing from the diagram. Click <a href="full-ned-inheritance-diagram.html">here</a> to see the full picture.</p>
<img src="vanetsim.routing.aodvvanet.AODVRouting-inheritance.png" ismap="yes" usemap="#inheritance-diagram"/><map name="inheritance-diagram"><area shape="rect" id="node1" href="vanetsim.routing.aodvvanet.AODVRouting.html" title="Simple Module AODVRouting" alt="" coords="5,6,109,31">
</map>
<h3 class="subtitle">Used in compound modules:</h3>
<table class="typestable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Type</th>
      <th class="description">Description</th>
   </tr>
<tr>
   <td>
<a href="vanetsim.simulations._nodes.AODVVANETCar.html">AODVVANETCar</a>
   </td>
   <td>
<i>compound&nbsp;module</i>
   </td>
   <td>
<i>(no description)</i>
   </td>
</tr>
</table>
<h3 class="subtitle">Parameters:</h3>
<table class="paramstable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Type</th>
      <th class="defaultvalue">Default value</th>
      <th class="description">Description</th>
   </tr>
<tr class="local">
   <td>networkProtocolModule</td>
   <td>
      <i>string</i>
   </td>
   <td>"^.networkLayer.ip"</td>
   <td>
   </td>
</tr>
<tr class="local">
   <td>askGratuitousRREP</td>
   <td>
      <i>bool</i>
   </td>
   <td>false</td>
   <td>
<p>see RFC 3561: 6.6.3</p>
   </td>
</tr>
<tr class="local">
   <td>useHelloMessages</td>
   <td>
      <i>bool</i>
   </td>
   <td>false</td>
   <td>
<p>see RFC 3561: 6.9</p>
   </td>
</tr>
<tr class="local">
   <td>useLocalRepair</td>
   <td>
      <i>bool</i>
   </td>
   <td>false</td>
   <td>
<p>see RFC 3561: 6.12 *not implemented yet*</p>
   </td>
</tr>
<tr class="local">
   <td>udpPort</td>
   <td>
      <i>int</i>
   </td>
   <td>654</td>
   <td>
   </td>
</tr>
<tr class="local">
   <td>maxPeriodicJitter</td>
   <td>
      <i>double</i>
   </td>
   <td>helloInterval / 4</td>
   <td>
<p>it MUST NOT be negative; it MUST NOT be greater than MESSAGE_INTERVAL/2; it SHOULD NOT be greater than MESSAGE_INTERVAL/4.</p>
   </td>
</tr>
<tr class="local">
   <td>periodicJitter</td>
   <td>
      <i>double</i>
   </td>
   <td>uniform(0s, maxPeriodicJitter)</td>
   <td>
<p>jitter for externally triggered message generation and message forwarding</p>
   </td>
</tr>
<tr class="local">
   <td>maxJitter</td>
   <td>
      <i>double</i>
   </td>
   <td>5ms</td>
   <td>
<p>RFC 5148:
need more revise: As well as the decision as to whether
to use jitter being dependent on the medium access control and
lower layers, the selection of the MAXJITTER parameter SHOULD
be appropriate to those mechanisms.</p>
   </td>
</tr>
<tr class="local">
   <td>jitter</td>
   <td>
      <i>double</i>
   </td>
   <td>uniform(0ms, maxJitter)</td>
   <td>
<p>jitter for broadcasts</p>
   </td>
</tr>
<tr class="local">
   <td>helloInterval</td>
   <td>
      <i>double</i>
   </td>
   <td>1s</td>
   <td>
<p>every helloInterval seconds a node broadcasts Hello messages (if it is necessary)</p>
   </td>
</tr>
<tr class="local">
   <td>allowedHelloLoss</td>
   <td>
      <i>int</i>
   </td>
   <td>2</td>
   <td>
<p>allowedHelloLoss * helloInterval is the lifetime value for Hello messages</p>
   </td>
</tr>
<tr class="local">
   <td>activeRouteTimeout</td>
   <td>
      <i>double</i>
   </td>
   <td>3s</td>
   <td>
<p>the timeout value for cached routes If Hello messages are used, then the
ACTIVE_ROUTE_TIMEOUT parameter value MUST be more than the value
(ALLOWED_HELLO_LOSS * HELLO_INTERVAL).</p>
   </td>
</tr>
<tr class="local">
   <td>netDiameter</td>
   <td>
      <i>int</i>
   </td>
   <td>35</td>
   <td>
<p>the maximum possible number of hops between two nodes in the network</p>
   </td>
</tr>
<tr class="local">
   <td>nodeTraversalTime</td>
   <td>
      <i>double</i>
   </td>
   <td>0.04s</td>
   <td>
<p>an estimation of the average one-hop traversal time</p>
   </td>
</tr>
<tr class="local">
   <td>rerrRatelimit</td>
   <td>
      <i>int</i>
   </td>
   <td>10</td>
   <td>
<p>maximum number of RERR messages that the AODV may originate in 1s.</p>
   </td>
</tr>
<tr class="local">
   <td>rreqRetries</td>
   <td>
      <i>int</i>
   </td>
   <td>2</td>
   <td>
<p>specifies the number of times AODV will repeat an expanded ring search for a destination</p>
   </td>
</tr>
<tr class="local">
   <td>rreqRatelimit</td>
   <td>
      <i>int</i>
   </td>
   <td>10</td>
   <td>
<p>maximum number of RREQ messages that the AODV may originate in 1s.</p>
   </td>
</tr>
<tr class="local">
   <td>timeoutBuffer</td>
   <td>
      <i>int</i>
   </td>
   <td>2</td>
   <td>
<p>plus time to wait for a delayed RREP (due to congestion) (to omit this buffer set it to 0)</p>
   </td>
</tr>
<tr class="local">
   <td>ttlStart</td>
   <td>
      <i>int</i>
   </td>
   <td>2</td>
   <td>
<p>specifies the TTL value when initiating a route request</p>
   </td>
</tr>
<tr class="local">
   <td>ttlIncrement</td>
   <td>
      <i>int</i>
   </td>
   <td>2</td>
   <td>
<p>specifies the value by which the TTL will be incremented each time a RREQ is retransmitted</p>
   </td>
</tr>
<tr class="local">
   <td>ttlThreshold</td>
   <td>
      <i>int</i>
   </td>
   <td>7</td>
   <td>
<p>the maximum value of TTL over which NET_DIAMETER value will be used to broadcast any RREQ</p>
   </td>
</tr>
<tr class="local">
   <td>localAddTTL</td>
   <td>
      <i>int</i>
   </td>
   <td>2</td>
   <td>
<p>it is used by the formula which calculates the initial TTL of the RREQ for a local repair</p>
   </td>
</tr>
<tr class="local">
   <td>myRouteTimeout</td>
   <td>
      <i>double</i>
   </td>
   <td>2 * activeRouteTimeout</td>
   <td>
<p>the value of the lifetime field that a destination node places in RREPs</p>
   </td>
</tr>
<tr class="local">
   <td>deletePeriod</td>
   <td>
      <i>double</i>
   </td>
   <td>5 * max(activeRouteTimeout, helloInterval)</td>
   <td>
<p>the time after which an expired route is deleted</p>
   </td>
</tr>
<tr class="local">
   <td>blacklistTimeout</td>
   <td>
      <i>double</i>
   </td>
   <td>rreqRetries * netTraversalTime</td>
   <td>
<p>the time after which a blacklisted node is removed from the blacklist</p>
   </td>
</tr>
<tr class="local">
   <td>netTraversalTime</td>
   <td>
      <i>double</i>
   </td>
   <td>2 * nodeTraversalTime * netDiameter</td>
   <td>
<p>an estimation of the traversal time for the complete network</p>
   </td>
</tr>
<tr class="local">
   <td>nextHopWait</td>
   <td>
      <i>double</i>
   </td>
   <td>nodeTraversalTime + 0.01s</td>
   <td>
<p>timeout for a RREP-ACK</p>
   </td>
</tr>
<tr class="local">
   <td>pathDiscoveryTime</td>
   <td>
      <i>double</i>
   </td>
   <td>2 * netTraversalTime</td>
   <td>
<p>buffer timeout for each broadcasted RREQ message</p>
   </td>
</tr>
</table>
<h3 class="subtitle">Properties:</h3>
<table class="propertiestable">
   <tr>
      <th class="name">Name</th>
      <th class="value">Value</th>
      <th class="description">Description</th>
   </tr>
<tr>
   <td>display</td>
   <td><i>i=block/network2</i></td>
   <td></td>
</tr>
</table>
<h3 class="subtitle">Gates:</h3>
<table class="gatestable">
   <tr>
      <th class="name">Name</th>
      <th class="type">Direction</th>
      <th class="gatesize">Size</th>
      <th class="description">Description</th>
   </tr>
<tr class="local">
   <td>ipIn</xsl:if></td>
   <td><i>input</i></td>
   <td></td>   <td></td>
</tr>
<tr class="local">
   <td>ipOut</xsl:if></td>
   <td><i>output</i></td>
   <td></td>   <td></td>
</tr>
</table>
<h3 class="subtitle">Source code:</h3>
<pre class="src"><span style="color: #808080; font-style: italic; ">//
// Ad hoc On-Demand Distance Vector Routing Protocol module.
//
// The Ad hoc On-Demand Distance Vector (AODV) routing protocol is
// intended for use by mobile nodes in an ad hoc network. It offers
// quick adaptation to dynamic link conditions, low processing and
// memory overhead, low network utilization, and determines unicast
// routes to destinations within the ad hoc network.
//
// This routing protocol communicates over UDP and used in ~AODVRouter
// nodes as a routing submodule. ~AODVRouter is just a ~WirelessHost
// extended with ~AODVRouting submodule.
//
// This implementation is based on RFC 3561. For more information, you may
// refer to the following link: https://tools.ietf.org/html/rfc3561.html.
//
</span><span style="color: #800000; font-weight: bold; ">simple</span><span style="color: #000000; "> </span><span style="color: #000000; ">AODVRouting</span><span style="color: #000000; ">
{
    </span><span style="color: #800000; font-weight: bold; ">parameters</span><span style="color: #000000; ">:
        </span><span style="color: #000000; font-weight: bold; ">@display</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;i=block/network2&quot;</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #000000; "> </span><span style="color: #000000; ">networkProtocolModule</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;^.networkLayer.ip&quot;</span><span style="color: #000000; ">);

        </span><span style="color: #000080; font-weight: bold; ">bool</span><span style="color: #000000; "> </span><span style="color: #000000; ">askGratuitousRREP</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">false</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// see RFC 3561: 6.6.3
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">bool</span><span style="color: #000000; "> </span><span style="color: #000000; ">useHelloMessages</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">false</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// see RFC 3561: 6.9
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">bool</span><span style="color: #000000; "> </span><span style="color: #000000; ">useLocalRepair</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">false</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// see RFC 3561: 6.12 *not implemented yet*
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">udpPort</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">654</span><span style="color: #000000; ">);

        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">maxPeriodicJitter</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #000000; ">helloInterval</span><span style="color: #000000; "> / </span><span style="color: #008000; ">4</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// it MUST NOT be negative; it MUST NOT be greater than MESSAGE_INTERVAL/2; it SHOULD NOT be greater than MESSAGE_INTERVAL/4.
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">volatile</span><span style="color: #000000; "> </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">periodicJitter</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #800080; font-weight: bold; ">uniform</span><span style="color: #000000; ">(</span><span style="color: #008000; ">0</span><span style="color: #000000; ">s</span><span style="color: #000000; ">, </span><span style="color: #000000; ">maxPeriodicJitter</span><span style="color: #000000; ">)); </span><span style="color: #808080; font-style: italic; ">// jitter for externally triggered message generation and message forwarding
</span><span style="color: #000000; ">
        </span><span style="color: #808080; font-style: italic; ">// RFC 5148:
</span><span style="color: #000000; ">        </span><span style="color: #808080; font-style: italic; ">// need more revise: As well as the decision as to whether
</span><span style="color: #000000; ">        </span><span style="color: #808080; font-style: italic; ">// to use jitter being dependent on the medium access control and
</span><span style="color: #000000; ">        </span><span style="color: #808080; font-style: italic; ">// lower layers, the selection of the MAXJITTER parameter SHOULD
</span><span style="color: #000000; ">        </span><span style="color: #808080; font-style: italic; ">// be appropriate to those mechanisms.
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">maxJitter</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">5</span><span style="color: #000000; ">ms</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">volatile</span><span style="color: #000000; "> </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">jitter</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #800080; font-weight: bold; ">uniform</span><span style="color: #000000; ">(</span><span style="color: #008000; ">0</span><span style="color: #000000; ">ms</span><span style="color: #000000; ">, </span><span style="color: #000000; ">maxJitter</span><span style="color: #000000; ">)); </span><span style="color: #808080; font-style: italic; ">// jitter for broadcasts
</span><span style="color: #000000; ">
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">helloInterval</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">1</span><span style="color: #000000; ">s</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// every helloInterval seconds a node broadcasts Hello messages (if it is necessary)
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">allowedHelloLoss</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// allowedHelloLoss * helloInterval is the lifetime value for Hello messages
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">activeRouteTimeout</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">3</span><span style="color: #000000; ">s</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// the timeout value for cached routes If Hello messages are used, then the
</span><span style="color: #000000; ">                                                            </span><span style="color: #808080; font-style: italic; ">// ACTIVE_ROUTE_TIMEOUT parameter value MUST be more than the value
</span><span style="color: #000000; ">                                                            </span><span style="color: #808080; font-style: italic; ">// (ALLOWED_HELLO_LOSS * HELLO_INTERVAL).
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">netDiameter</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">35</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// the maximum possible number of hops between two nodes in the network
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">nodeTraversalTime</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">0</span><span style="color: #000000; ">.</span><span style="color: #008000; ">04</span><span style="color: #000000; ">s</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// an estimation of the average one-hop traversal time
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">rerrRatelimit</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">10</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// maximum number of RERR messages that the AODV may originate in 1s.
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">rreqRetries</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// specifies the number of times AODV will repeat an expanded ring search for a destination
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">rreqRatelimit</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">10</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// maximum number of RREQ messages that the AODV may originate in 1s.
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">timeoutBuffer</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// plus time to wait for a delayed RREP (due to congestion) (to omit this buffer set it to 0)
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">ttlStart</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// specifies the TTL value when initiating a route request
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">ttlIncrement</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// specifies the value by which the TTL will be incremented each time a RREQ is retransmitted
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">ttlThreshold</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">7</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// the maximum value of TTL over which NET_DIAMETER value will be used to broadcast any RREQ
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">localAddTTL</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// it is used by the formula which calculates the initial TTL of the RREQ for a local repair
</span><span style="color: #000000; ">
        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">myRouteTimeout</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; "> * </span><span style="color: #000000; ">activeRouteTimeout</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// the value of the lifetime field that a destination node places in RREPs
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">deletePeriod</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">5</span><span style="color: #000000; "> * </span><span style="color: #800080; font-weight: bold; ">max</span><span style="color: #000000; ">(</span><span style="color: #000000; ">activeRouteTimeout</span><span style="color: #000000; ">, </span><span style="color: #000000; ">helloInterval</span><span style="color: #000000; ">)); </span><span style="color: #808080; font-style: italic; ">// the time after which an expired route is deleted
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">blacklistTimeout</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #000000; ">rreqRetries</span><span style="color: #000000; "> * </span><span style="color: #000000; ">netTraversalTime</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// the time after which a blacklisted node is removed from the blacklist
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">netTraversalTime</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; "> * </span><span style="color: #000000; ">nodeTraversalTime</span><span style="color: #000000; "> * </span><span style="color: #000000; ">netDiameter</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// an estimation of the traversal time for the complete network
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">nextHopWait</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #000000; ">nodeTraversalTime</span><span style="color: #000000; "> + </span><span style="color: #008000; ">0</span><span style="color: #000000; ">.</span><span style="color: #008000; ">01</span><span style="color: #000000; ">s</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// timeout for a RREP-ACK
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">pathDiscoveryTime</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;s&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2</span><span style="color: #000000; "> * </span><span style="color: #000000; ">netTraversalTime</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// buffer timeout for each broadcasted RREQ message
</span><span style="color: #000000; ">    </span><span style="color: #800000; font-weight: bold; ">gates</span><span style="color: #000000; ">:
        </span><span style="color: #000080; font-weight: bold; ">input</span><span style="color: #000000; "> </span><span style="color: #000000; ">ipIn</span><span style="color: #000000; ">;
        </span><span style="color: #000080; font-weight: bold; ">output</span><span style="color: #000000; "> </span><span style="color: #000000; ">ipOut</span><span style="color: #000000; ">;
}
</span></pre>
   <hr><p class="footer"><a href="http://creativecommons.org/licenses/by-sa/3.0" target="_top"><img src="by-sa.png"></a> This documentation is released under the <a href="http://creativecommons.org/licenses/by-sa/3.0" target="_top">Creative Commons license</a></p>
   </body>
</html>
